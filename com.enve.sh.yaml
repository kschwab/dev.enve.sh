app-id: com.enve.sh
branch: '20.08'
runtime: org.freedesktop.Sdk
runtime-version: '20.08'
sdk: org.freedesktop.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.enve

command: /app/bin/enve
modules:
  - name: jsonnet
    buildsystem: simple
    build-options:
      cflags: -fPIC
      cxxflags: -fPIC
    build-commands:
      - pip3 install . --prefix=/app --no-deps
    sources:
      - type: archive
        url: https://files.pythonhosted.org/packages/42/40/6f16e5ac994b16fa71c24310f97174ce07d3a97b433275589265c6b94d2b/jsonnet-0.17.0.tar.gz
        sha256: 23ffcd4d03a10af7b20b53feee16627debe28345a4d7d5ed07881b7444553bfb
  - name: click
    buildsystem: simple
    build-commands:
      - pip3 install . --prefix=/app --no-deps
    sources:
      - type: archive
        url: https://files.pythonhosted.org/packages/27/6f/be940c8b1f1d69daceeb0032fee6c34d7bd70e3e649ccac0951500b4720e/click-7.1.2.tar.gz
        sha256: d2b5255c7c6349bc1bd1e59e08cd12acbbd63ce649f2588755783aa94dfb6b1a
  - name: enve.py
    buildsystem: simple
    build-commands:
      - install enve.py -D /app/bin/enve
    sources:
      - type: file
        path: enve.py

finish-args:
  - --filesystem=host
  - --socket=session-bus
  - --allow=devel
  - --allow=multiarch
  - --share=network
